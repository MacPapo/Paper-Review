{% macro render_accordions_report(x) %}
<div class="accordion accordion-flush" id="accordionFlushProject">
    {% for r in x %}
    {{ render_accordion_report(r) }}
    {% endfor %}

</div>
{% endmacro%}


{% macro render_accordion_report_body(x) %}
<div class="container">
    <div class="row my-5">
        <div class="col-md-12">
            {{ x.truncate_desc() }}
        </div>
    </div>
</div>

{% endmacro %}

{% macro render_accordion_report(x) %}
<div class="accordion-item border">
    <h2 class="accordion-header">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
            data-bs-target="#flush-collapse{{ x.pid }}" aria-expanded="false" aria-controls="flush-collapse{{ x.pid }}">
            {{ x.title }}

            <!-- For Spacing -->
            <div class="flex-grow-1"></div>

            <!-- For Spacing -->
            <div class="mx-auto" style="width: 30px;"></div>
        </button>
    </h2>
    <div id="flush-collapse{{ x.pid }}" class="accordion-collapse collapse" data-bs-parent="#accordionFlushProject">

        <div class="accordion-body" style="overflow-wrap: break-word;">
            {{ render_accordion_report_body(x) }}
        </div>
        <div class="row">
            <div class="btn-group" role="group" aria-label="Actions">
                <button
                    onclick="window.location.href='{{ url_for('project.report', pid=x.pid,rid=x.rid,reviewer=x.rvid) }}'"
                    type="button" class="btn btn-primary">View</button>
            </div>
        </div>
    </div>
</div>
{% endmacro %}
